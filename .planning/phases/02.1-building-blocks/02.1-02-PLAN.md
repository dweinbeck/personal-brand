---
phase: 02.1-building-blocks
plan: 02
type: execute
wave: 2
depends_on: ["02.1-01"]
files_modified:
  - src/lib/tutorials.ts
  - src/components/building-blocks/TutorialCard.tsx
  - src/app/building-blocks/page.tsx
  - src/app/building-blocks/[slug]/page.tsx
  - src/content/building-blocks/setting-up-a-repo.mdx
autonomous: true

must_haves:
  truths:
    - "Visitor sees a list of tutorials with titles and descriptions at /building-blocks"
    - "Visitor can click a tutorial card and read the full tutorial"
    - "First tutorial (Setting up a repo) is published and readable with syntax-highlighted code"
    - "Tutorial pages have proper prose styling via @tailwindcss/typography"
  artifacts:
    - path: "src/lib/tutorials.ts"
      provides: "Tutorial metadata types and getAllTutorials helper"
      exports: ["getAllTutorials", "TutorialMeta", "Tutorial"]
    - path: "src/components/building-blocks/TutorialCard.tsx"
      provides: "Reusable tutorial card for listing page"
      contains: "TutorialCard"
    - path: "src/app/building-blocks/page.tsx"
      provides: "Tutorial listing page"
      contains: "getAllTutorials"
    - path: "src/app/building-blocks/[slug]/page.tsx"
      provides: "Individual tutorial page with dynamic MDX import"
      contains: "generateStaticParams"
    - path: "src/content/building-blocks/setting-up-a-repo.mdx"
      provides: "First tutorial content"
      contains: "export const metadata"
  key_links:
    - from: "src/app/building-blocks/page.tsx"
      to: "src/lib/tutorials.ts"
      via: "getAllTutorials import"
      pattern: "getAllTutorials"
    - from: "src/app/building-blocks/[slug]/page.tsx"
      to: "src/content/building-blocks/*.mdx"
      via: "dynamic import in page.tsx"
      pattern: "import.*@/content/building-blocks"
    - from: "src/app/building-blocks/page.tsx"
      to: "/building-blocks/[slug]"
      via: "Link href in TutorialCard"
      pattern: "href.*building-blocks/"
---

<objective>
Create the tutorial content system: listing page with cards, individual tutorial pages with prose styling, the filesystem-based tutorial helper, and the first published tutorial.

Purpose: Delivers the complete Building Blocks user experience -- browsing tutorials and reading them.
Output: Working /building-blocks listing page, /building-blocks/setting-up-a-repo tutorial page, and supporting infrastructure.
</objective>

<execution_context>
@/Users/dweinbeck/.claude/get-shit-done/workflows/execute-plan.md
@/Users/dweinbeck/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02.1-building-blocks/02.1-RESEARCH.md
@.planning/phases/02.1-building-blocks/02.1-01-SUMMARY.md

@next.config.ts
@mdx-components.tsx
@src/app/globals.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create tutorial helper and listing page</name>
  <files>
    src/lib/tutorials.ts
    src/components/building-blocks/TutorialCard.tsx
    src/app/building-blocks/page.tsx
  </files>
  <action>
    1. Create `src/lib/tutorials.ts` with types and filesystem-based helper:
       - Export `TutorialMeta` interface: `{ title: string; description: string; publishedAt: string; tags: string[] }`
       - Export `Tutorial` interface: `{ slug: string; metadata: TutorialMeta }`
       - Export `getAllTutorials()` function that:
         - Uses `fs.readdirSync` to list `.mdx` files in `src/content/building-blocks/`
         - Uses `path.join(process.cwd(), "src", "content", "building-blocks")` for the directory path
         - For metadata extraction: dynamically import each MDX file using `await import(`@/content/building-blocks/${slug}.mdx`)` -- NOTE: this works in `lib/` for metadata-only imports during build. If it fails at build time, fall back to regex extraction from file contents using `fs.readFileSync`.
         - Returns `Tutorial[]` sorted by `publishedAt` descending

    2. Create `src/components/building-blocks/TutorialCard.tsx` (server component, NO "use client"):
       - Props: `tutorial: Tutorial` (import type from `@/lib/tutorials`)
       - Renders as a `Link` to `/building-blocks/${tutorial.slug}`
       - Clean minimal card design inspired by connorbutch.com:
         - Rounded border (`rounded-lg border border-gray-200`)
         - Padding `p-6`
         - Hover: shadow + slight lift (`hover:shadow-md hover:border-gray-300 motion-safe:hover:-translate-y-0.5 transition-all duration-200`)
         - Title as `h2` with `font-semibold text-gray-900`
         - Description as `p` with `mt-2 text-sm text-gray-600`
         - Tags as pill badges: `inline-block rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-600`

    3. Create `src/app/building-blocks/page.tsx` (server component):
       - Import `getAllTutorials` from `@/lib/tutorials`
       - Import `TutorialCard` from `@/components/building-blocks/TutorialCard`
       - Page layout: `mx-auto max-w-5xl px-4 sm:px-6 lg:px-8 py-16`
       - Heading: "Building Blocks" as h1 (`text-3xl font-bold text-gray-900`)
       - Subtitle: "Practical, step-by-step tutorials on common development tasks." as p (`mt-2 text-gray-600`)
       - Grid: `mt-8 grid grid-cols-1 md:grid-cols-2 gap-6`
       - Map tutorials to TutorialCard components
       - Export metadata for SEO: `{ title: "Building Blocks | Dan Weinbeck", description: "Practical tutorials..." }`
  </action>
  <verify>
    TypeScript compilation passes: `npx tsc --noEmit` should show no errors in these files.
  </verify>
  <done>
    - src/lib/tutorials.ts exports getAllTutorials, TutorialMeta, Tutorial
    - TutorialCard renders a linked card with title, description, tags
    - /building-blocks page displays tutorial cards in a responsive grid
  </done>
</task>

<task type="auto">
  <name>Task 2: Create tutorial detail page and first tutorial</name>
  <files>
    src/app/building-blocks/[slug]/page.tsx
    src/content/building-blocks/setting-up-a-repo.mdx
  </files>
  <action>
    1. Create `src/content/building-blocks/setting-up-a-repo.mdx`:
       - Export metadata object (NOT frontmatter): `export const metadata = { title: "Setting up a repo for a new project", description: "Initialize a Git repository with proper structure, .gitignore, README, and license.", publishedAt: "2026-02-02", tags: ["git", "tooling", "beginner"] }`
       - Write a practical, step-by-step tutorial covering:
         - Step 1: Create the directory (`mkdir`, `cd`)
         - Step 2: Initialize Git (`git init`)
         - Step 3: Create a `.gitignore` (explain what it does, provide common patterns for Node.js projects)
         - Step 4: Create a `README.md` (explain purpose, show basic structure)
         - Step 5: Choose a license (brief explanation of MIT, link to choosealicense.com)
         - Step 6: Make the first commit (`git add .`, `git commit`)
         - Step 7: Push to GitHub (`gh repo create` or manual remote add + push)
       - Use proper heading hierarchy (h1 for title, h2 for each step)
       - Include code blocks with language annotations (```bash, ```markdown, etc.)
       - Keep it beginner-friendly, ~300-500 words of prose total
       - Do NOT use "use client" -- this is static content

    2. Create `src/app/building-blocks/[slug]/page.tsx` (server component):
       - IMPORTANT: The dynamic MDX import MUST be in this page.tsx file, NOT extracted to a lib/ helper. This is a known Next.js limitation.
       - Type params as `Promise<{ slug: string }>` and `await params` (Next.js 16 async params pattern)
       - Dynamic import: `const { default: Content, metadata } = await import(`@/content/building-blocks/${slug}.mdx`)`
       - Wrap in try/catch, call `notFound()` on import failure
       - Layout: `article` with `mx-auto max-w-3xl px-4 sm:px-6 lg:px-8 py-16`
       - Header section: `h1` with title, `p` with description, published date, tag pills
       - Content section: `div` with `prose prose-gray max-w-none` classes (these come from @tailwindcss/typography)
       - Render `<Content />` inside the prose div
       - Export `generateStaticParams()` that calls `getAllTutorials()` and maps to `{ slug }` objects
       - Export `dynamicParams = false` to return 404 for unknown slugs
       - Export `generateMetadata()` for dynamic page titles: extract metadata from the MDX import, return `{ title: metadata.title + " | Building Blocks", description: metadata.description }`
  </action>
  <verify>
    1. `npm run build` completes without errors (confirms SSG works with generateStaticParams)
    2. `npm run dev` -- navigate to `/building-blocks` and see the tutorial card
    3. Click the card -- `/building-blocks/setting-up-a-repo` loads with styled prose content and syntax-highlighted code blocks
    4. Navigate to `/building-blocks/nonexistent` -- should show 404
  </verify>
  <done>
    - /building-blocks shows at least one tutorial card with title, description, and tags
    - Clicking the card navigates to /building-blocks/setting-up-a-repo
    - Tutorial page renders with prose typography styling (headings, paragraphs, code blocks)
    - Code blocks have syntax highlighting
    - Unknown slugs return 404
    - Build succeeds with static generation (no dynamic rendering)
  </done>
</task>

</tasks>

<verification>
1. `npm run build` succeeds -- all pages statically generated
2. `/building-blocks` shows tutorial listing with card(s)
3. `/building-blocks/setting-up-a-repo` shows full tutorial with prose styling and syntax highlighting
4. Navigation "Building Blocks" link is active on both pages
5. Mobile responsive: cards stack single column, tutorial prose is readable
</verification>

<success_criteria>
- Visitor can navigate to Building Blocks from the nav
- Visitor sees tutorial cards with title, description, and tags
- Visitor can read a complete tutorial with formatted code blocks
- All pages are statically generated (SSG)
- Build passes cleanly
</success_criteria>

<output>
After completion, create `.planning/phases/02.1-building-blocks/02.1-02-SUMMARY.md`
</output>
