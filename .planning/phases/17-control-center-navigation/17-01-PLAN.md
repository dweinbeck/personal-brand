---
phase: 17-control-center-navigation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/admin/ControlCenterNav.tsx
  - src/app/control-center/layout.tsx
  - src/app/control-center/content/page.tsx
  - src/app/control-center/brand-scraper/page.tsx
autonomous: true

must_haves:
  truths:
    - "A horizontal nav bar appears on every Control Center page with links to Dashboard, Content Editor, and Brand Scraper"
    - "The nav bar highlights the currently active section based on the URL path"
    - "Navigating to /control-center/content renders a placeholder page without errors"
    - "Navigating to /control-center/brand-scraper renders a placeholder page without errors"
    - "The existing Dashboard page at /control-center/ continues to work with repos and Todoist content unchanged"
  artifacts:
    - path: "src/components/admin/ControlCenterNav.tsx"
      provides: "Horizontal navigation bar for Control Center sections"
      contains: "usePathname"
    - path: "src/app/control-center/layout.tsx"
      provides: "Layout wrapping all Control Center pages with AdminGuard and nav"
      contains: "ControlCenterNav"
    - path: "src/app/control-center/content/page.tsx"
      provides: "Placeholder page for Content Editor section"
      min_lines: 5
    - path: "src/app/control-center/brand-scraper/page.tsx"
      provides: "Placeholder page for Brand Scraper section"
      min_lines: 5
  key_links:
    - from: "src/app/control-center/layout.tsx"
      to: "src/components/admin/ControlCenterNav.tsx"
      via: "import and render inside AdminGuard"
      pattern: "ControlCenterNav"
    - from: "src/components/admin/ControlCenterNav.tsx"
      to: "usePathname"
      via: "next/navigation hook for active state"
      pattern: "usePathname"
    - from: "src/components/admin/ControlCenterNav.tsx"
      to: "/control-center routes"
      via: "Next.js Link components"
      pattern: "href.*control-center"
---

<objective>
Add horizontal navigation to the Control Center so the admin can switch between Dashboard, Content Editor, and Brand Scraper from any Control Center page. Create placeholder pages for the two new sections.

Purpose: This is the foundation for v1.4 -- all subsequent phases (content editor, brand scraper) depend on these routes existing and being navigable.
Output: ControlCenterNav component, updated layout, two placeholder route pages.
</objective>

<execution_context>
@/Users/dweinbeck/.claude/get-shit-done/workflows/execute-plan.md
@/Users/dweinbeck/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@src/components/admin/AdminGuard.tsx
@src/app/control-center/layout.tsx
@src/app/control-center/page.tsx
@src/components/layout/NavLinks.tsx
@src/app/globals.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create ControlCenterNav component and wire into layout</name>
  <files>
    src/components/admin/ControlCenterNav.tsx
    src/app/control-center/layout.tsx
  </files>
  <action>
Create `src/components/admin/ControlCenterNav.tsx` as a client component ("use client") with a horizontal nav bar for the Control Center.

**Navigation links (in order):**
- Dashboard -> `/control-center` (exact match only)
- Content Editor -> `/control-center/content` (startsWith match)
- Brand Scraper -> `/control-center/brand-scraper` (startsWith match)

**Active state logic:**
- Use `usePathname()` from `next/navigation` to detect current route
- For Dashboard: active when pathname is exactly `/control-center` (NOT when on sub-routes like `/content`)
- For Content Editor: active when pathname starts with `/control-center/content`
- For Brand Scraper: active when pathname starts with `/control-center/brand-scraper`

**Styling (match existing design system):**
- Use `clsx` for conditional class merging (already in project dependencies, see NavLinks.tsx pattern)
- Use Next.js `Link` component for navigation
- Container: `max-w-6xl mx-auto px-4 sm:px-6 lg:px-8` (matches page.tsx content width)
- Nav bar wrapper: white/surface background, bottom border with `border-gray-200`, positioned between AdminGuard auth check and page content
- Links: horizontal flex row with gap, each link is a text button with padding
- Active link: navy text (`text-primary`), gold bottom border (2px, `border-gold`), font-semibold
- Inactive link: `text-text-secondary`, hover to `text-primary` with `hover:bg-gold-light` rounded background
- Add `aria-label="Control Center"` to the `nav` element
- Add `aria-current="page"` to the active link for accessibility

**Do NOT:**
- Add responsive hamburger/mobile menu -- the Control Center is admin-only and horizontal links wrap naturally on mobile
- Use tabs or any tab library -- plain links are simpler and support direct URL navigation
- Convert any existing component to client -- only the new ControlCenterNav is a client component

**Update `src/app/control-center/layout.tsx`:**
- Import `ControlCenterNav` from `@/components/admin/ControlCenterNav`
- Render `ControlCenterNav` INSIDE the `AdminGuard` wrapper, BEFORE `{children}`
- Keep AdminGuard as the outermost wrapper (it handles auth redirect and loading state)
- The layout remains a server component -- ControlCenterNav is a client component imported into it
  </action>
  <verify>
Run `npm run build` -- no TypeScript or build errors. The layout.tsx should still be a server component (no "use client" directive). The ControlCenterNav.tsx should have "use client" at the top.
  </verify>
  <done>
ControlCenterNav component exists with three navigation links (Dashboard, Content Editor, Brand Scraper). Active link is visually distinguished with gold bottom border and navy text. Layout.tsx renders ControlCenterNav inside AdminGuard before children. Build passes.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create placeholder pages for Content Editor and Brand Scraper</name>
  <files>
    src/app/control-center/content/page.tsx
    src/app/control-center/brand-scraper/page.tsx
  </files>
  <action>
Create two placeholder pages as server components (no "use client" needed).

**`src/app/control-center/content/page.tsx`:**
```tsx
export default function ContentEditorPage() {
  return (
    <div className="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 py-12">
      <h1 className="text-2xl font-bold text-gray-900 mb-4">Content Editor</h1>
      <p className="text-gray-500">
        Building Blocks content editor coming soon. You will be able to create
        and edit tutorials with a form-guided editor and live preview.
      </p>
    </div>
  );
}
```

**`src/app/control-center/brand-scraper/page.tsx`:**
```tsx
export default function BrandScraperPage() {
  return (
    <div className="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 py-12">
      <h1 className="text-2xl font-bold text-gray-900 mb-4">Brand Scraper</h1>
      <p className="text-gray-500">
        Brand scraper tool coming soon. You will be able to submit URLs and
        browse extracted brand data including colors, fonts, logos, and assets.
      </p>
    </div>
  );
}
```

**Styling notes:**
- Match the existing page.tsx pattern: same `max-w-6xl` container, same padding, same heading styles
- Use `text-gray-500` for the placeholder description text
- Keep these as simple server components -- no data fetching, no state

**Do NOT:**
- Add any data fetching or dynamic behavior -- these are pure placeholders
- Add `export const dynamic` -- not needed for static placeholder pages
- Duplicate the nav bar -- it comes from the shared layout
  </action>
  <verify>
Run `npm run build` -- both new routes compile without errors. Run `npm run lint` -- no Biome errors. Verify routes exist by checking that `src/app/control-center/content/page.tsx` and `src/app/control-center/brand-scraper/page.tsx` are valid Next.js route files.
  </verify>
  <done>
Both placeholder pages exist and render at their respective URLs. Each shows a heading and description text. Both inherit the ControlCenterNav from the shared layout. Build and lint pass cleanly.
  </done>
</task>

</tasks>

<verification>
1. `npm run build` passes with zero errors
2. `npm run lint` passes with zero errors
3. All four files exist: ControlCenterNav.tsx, layout.tsx (updated), content/page.tsx, brand-scraper/page.tsx
4. ControlCenterNav.tsx contains "use client", usePathname, three Link elements pointing to /control-center, /control-center/content, /control-center/brand-scraper
5. layout.tsx imports and renders ControlCenterNav inside AdminGuard before {children}
6. layout.tsx does NOT have "use client" (remains a server component)
7. Existing /control-center/ page still works (page.tsx unchanged)
</verification>

<success_criteria>
- Horizontal nav bar appears on all Control Center pages (Dashboard, Content Editor, Brand Scraper)
- Active section is visually highlighted with gold accent and navy text
- /control-center shows the existing Dashboard with repos and Todoist content
- /control-center/content shows the Content Editor placeholder
- /control-center/brand-scraper shows the Brand Scraper placeholder
- Build and lint pass cleanly
</success_criteria>

<output>
After completion, create `.planning/phases/17-control-center-navigation/17-01-SUMMARY.md`
</output>
