---
phase: 05-seo-polish-and-stubs
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/app/layout.tsx
  - src/app/page.tsx
  - src/app/projects/page.tsx
  - src/app/contact/page.tsx
  - src/app/writing/page.tsx
  - src/app/assistant/page.tsx
  - src/app/building-blocks/page.tsx
  - src/app/building-blocks/[slug]/page.tsx
autonomous: true

must_haves:
  truths:
    - "Every page has a unique, descriptive <title> using the template pattern (Page | Dan Weinbeck)"
    - "Sharing any page URL shows a rich preview with title, description, and image"
    - "Google can parse Person structured data from the home page"
    - "Writing and Assistant pages show polished coming-soon placeholders"
  artifacts:
    - path: "src/app/layout.tsx"
      provides: "Title template, metadataBase, default OG config, twitter card config"
      contains: "template.*Dan Weinbeck"
    - path: "src/app/page.tsx"
      provides: "Home page metadata export and JSON-LD Person script"
      contains: "application/ld\\+json"
    - path: "src/app/writing/page.tsx"
      provides: "Polished stub with metadata"
      contains: "Coming Soon"
    - path: "src/app/assistant/page.tsx"
      provides: "Polished stub with metadata"
      contains: "Coming Soon"
  key_links:
    - from: "src/app/layout.tsx"
      to: "all child pages"
      via: "title.template and metadataBase"
      pattern: "template.*%s.*Dan Weinbeck"
    - from: "src/app/page.tsx"
      to: "schema.org"
      via: "JSON-LD script tag"
      pattern: "schema\\.org.*Person"
---

<objective>
Add SEO metadata to every page, JSON-LD Person structured data to the home page, and polish the Writing and Assistant stub pages.

Purpose: Makes the site discoverable by search engines with rich previews when shared, and gives stub pages a professional appearance.
Output: All pages have proper metadata exports, root layout has title template and OG defaults, home page has JSON-LD Person schema, stub pages have polished coming-soon UI.
</objective>

<execution_context>
@/Users/dweinbeck/.claude/get-shit-done/workflows/execute-plan.md
@/Users/dweinbeck/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-seo-polish-and-stubs/05-RESEARCH.md
@src/app/layout.tsx
@src/app/page.tsx
@src/app/building-blocks/page.tsx
@src/app/building-blocks/[slug]/page.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install schema-dts and update root layout metadata</name>
  <files>
    package.json
    src/app/layout.tsx
  </files>
  <action>
    1. Install schema-dts: `npm install schema-dts`

    2. Update `src/app/layout.tsx` metadata export. Replace the existing simple metadata with:
       - `metadataBase: new URL("https://dweinbeck.com")`
       - Title object: `{ template: "%s | Dan Weinbeck", default: "Dan Weinbeck - AI Developer & Data Scientist" }`
       - Description: keep existing
       - `openGraph` with type "website", locale "en_US", url "https://dweinbeck.com", siteName "Dan Weinbeck", title matching default, description matching root, images array with `{ url: "/opengraph-image.png", width: 1200, height: 630 }`
       - `twitter: { card: "summary_large_image" }`
       - `robots: { index: true, follow: true }`

    Do NOT change anything else in layout.tsx (fonts, body, Navbar, Footer, main).
    Keep imports in alphabetical order (Biome rule).
  </action>
  <verify>
    `npx biome check src/app/layout.tsx` passes.
    `npm run build` succeeds (metadata types are valid).
  </verify>
  <done>Root layout exports metadata with title template, metadataBase, OG defaults, twitter card, and robots config.</done>
</task>

<task type="auto">
  <name>Task 2: Add per-page metadata exports, JSON-LD, and polish stubs</name>
  <files>
    src/app/page.tsx
    src/app/projects/page.tsx
    src/app/contact/page.tsx
    src/app/writing/page.tsx
    src/app/assistant/page.tsx
    src/app/building-blocks/page.tsx
    src/app/building-blocks/[slug]/page.tsx
  </files>
  <action>
    For each page, add or update a `metadata` export with page-specific title (template adds "| Dan Weinbeck" automatically) and description. Do NOT set openGraph on child pages to avoid the shallow merge pitfall -- let them inherit from root layout. Keep imports alphabetical.

    **src/app/page.tsx:**
    - Add `import type { Metadata } from "next";`
    - Add `import type { Person, WithContext } from "schema-dts";`
    - Add metadata export: `title: "Home"` (becomes "Home | Dan Weinbeck"), description: "AI developer, analytics professional, and data scientist. Explore projects, tutorials, and more."
    - Add personJsonLd constant (WithContext<Person>) with: @context "https://schema.org", @type "Person", name "Dan Weinbeck", url "https://dweinbeck.com", jobTitle "AI Developer & Data Scientist", description matching page description, email "dan@dweinbeck.com", sameAs array with LinkedIn (https://www.linkedin.com/in/dw789/), GitHub (https://github.com/dweinbeck), Instagram (https://instagram.com/dweinbeck)
    - Inside the existing wrapper div (before HeroSection), add: `<script type="application/ld+json" dangerouslySetInnerHTML={{ __html: JSON.stringify(personJsonLd).replace(/</g, "\\u003c") }} />`

    **src/app/projects/page.tsx:**
    - Add metadata export: title "Projects", description "Open-source projects and experiments by Dan Weinbeck."

    **src/app/contact/page.tsx:**
    - Add metadata export: title "Contact", description "Get in touch with Dan Weinbeck."

    **src/app/writing/page.tsx:**
    - Add metadata export: title "Writing", description "Articles and thoughts on AI, data science, and software development."
    - Replace the page body with a polished stub: keep the h1 "Writing" and the subtitle paragraph, then add a dashed-border centered box (`mt-12 flex flex-col items-center justify-center rounded-lg border-2 border-dashed border-gray-300 py-16 text-center`) containing a "Coming Soon" heading (`text-lg font-medium text-gray-900`) and subtext "New articles are on the way. Check back soon." (`mt-2 text-sm text-gray-500`). Use dark mode compatible classes: `text-gray-900 dark:text-white` for headings, `text-gray-600 dark:text-gray-400` for body, `border-gray-300 dark:border-gray-600` for borders, `text-gray-500 dark:text-gray-400` for muted text.

    **src/app/assistant/page.tsx:**
    - Add metadata export: title "AI Assistant", description "An AI-powered assistant for exploring Dan's work and expertise."
    - Replace the page body with same polished stub pattern as Writing: h1 "AI Assistant", subtitle paragraph about the feature, dashed-border box with "Coming Soon" and subtext "An interactive AI assistant is in development. Stay tuned." Same dark mode classes as Writing.

    **src/app/building-blocks/page.tsx:**
    - Fix the title duplication: change `title: "Building Blocks | Dan Weinbeck"` to just `title: "Building Blocks"` (template handles the suffix).
    - Update description if it says "Practical, step-by-step tutorials on common development tasks." -- that's fine, keep it.

    **src/app/building-blocks/[slug]/page.tsx:**
    - In generateMetadata, fix the title: change `title: \`\${meta.title} | Building Blocks | Dan Weinbeck\`` to `title: \`\${meta.title} | Building Blocks\`` (root template adds "| Dan Weinbeck").
    - Add OG title and description to the returned metadata: `openGraph: { title: \`\${meta.title} | Building Blocks\`, description: meta.description }` -- this is safe because we're setting both fields, avoiding the shallow merge pitfall.
  </action>
  <verify>
    `npx biome check --write src/app/` to auto-fix any import ordering issues, then `npx biome check src/app/` passes clean.
    `npm run build` succeeds with no errors.
    In the build output, check that pages are listed and none have build errors.
  </verify>
  <done>
    All 7 page routes have metadata exports with unique titles and descriptions.
    Home page contains JSON-LD Person schema script tag.
    Building blocks title duplication is fixed.
    Writing page shows polished "Coming Soon" stub.
    Assistant page shows polished "Coming Soon" stub.
  </done>
</task>

</tasks>

<verification>
1. `npm run build` completes without errors
2. `npx biome check src/app/` reports no issues
3. In dev mode (`npm run dev`), view page source on each route and confirm:
   - Title follows "Page | Dan Weinbeck" pattern
   - OG meta tags are present (og:title, og:description, og:image)
   - Home page has `<script type="application/ld+json">` with Person schema
4. /writing shows polished coming-soon card
5. /assistant shows polished coming-soon card
6. /building-blocks title is "Building Blocks | Dan Weinbeck" (not doubled)
</verification>

<success_criteria>
- Every page route has a unique `<title>` using the template pattern
- Root layout has metadataBase, OG defaults, and twitter card config
- Home page has valid JSON-LD Person structured data
- Writing and Assistant pages have polished coming-soon UI
- Building blocks pages no longer double the "Dan Weinbeck" suffix
- Build passes clean with no Biome or TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/05-seo-polish-and-stubs/05-01-SUMMARY.md`
</output>
