---
phase: 04-contact
plan: 02
type: execute
wave: 2
depends_on: ["04-01"]
files_modified:
  - src/components/contact/CopyEmailButton.tsx
  - src/app/contact/page.tsx
  - .env.local.example
autonomous: true
user_setup:
  - service: firebase
    why: "Firestore storage for contact form submissions"
    env_vars:
      - name: FIREBASE_PROJECT_ID
        source: "Firebase Console -> Project Settings -> General -> Project ID"
      - name: FIREBASE_CLIENT_EMAIL
        source: "Firebase Console -> Project Settings -> Service accounts -> Generate new private key -> client_email field in downloaded JSON"
      - name: FIREBASE_PRIVATE_KEY
        source: "Firebase Console -> Project Settings -> Service accounts -> Generate new private key -> private_key field in downloaded JSON (wrap in quotes in .env.local)"
    dashboard_config:
      - task: "Create Firebase project (if not already done)"
        location: "https://console.firebase.google.com/ -> Add project"
      - task: "Enable Firestore Database"
        location: "Firebase Console -> Build -> Firestore Database -> Create database"

must_haves:
  truths:
    - "Visitor can click Dan's email address to copy it to clipboard"
    - "Visitor can click social links to reach Dan's LinkedIn, Instagram, and GitHub profiles"
    - "Contact page shows form, email copy, and social links in a composed layout"
  artifacts:
    - path: "src/components/contact/CopyEmailButton.tsx"
      provides: "Client component for click-to-copy email"
      exports: ["CopyEmailButton"]
    - path: "src/app/contact/page.tsx"
      provides: "Full contact page composing form, email, and social links"
      exports: ["default (ContactPage)"]
    - path: ".env.local.example"
      provides: "Template for required environment variables"
  key_links:
    - from: "src/app/contact/page.tsx"
      to: "src/components/contact/ContactForm.tsx"
      via: "import and render"
      pattern: "import.*ContactForm.*from"
    - from: "src/app/contact/page.tsx"
      to: "src/components/contact/CopyEmailButton.tsx"
      via: "import and render"
      pattern: "import.*CopyEmailButton.*from"
    - from: "src/app/contact/page.tsx"
      to: "external social profiles"
      via: "anchor tags with target=_blank"
      pattern: "target=\"_blank\""
---

<objective>
Complete the contact page with click-to-copy email, social links, and full page composition.

Purpose: Implements CONT-04 (email click-to-copy) and CONT-05 (social links). Composes the full contact page layout bringing together the ContactForm from Plan 01 with the new CopyEmailButton and social links.
Output: Fully functional contact page at /contact with form, email copy, and social links.
</objective>

<execution_context>
@/Users/dweinbeck/.claude/get-shit-done/workflows/execute-plan.md
@/Users/dweinbeck/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-contact/04-RESEARCH.md
@.planning/phases/04-contact/04-01-SUMMARY.md
@src/app/contact/page.tsx
@src/app/layout.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create CopyEmailButton and compose full contact page</name>
  <files>
    src/components/contact/CopyEmailButton.tsx
    src/app/contact/page.tsx
    .env.local.example
  </files>
  <action>
    1. Create `src/components/contact/CopyEmailButton.tsx`:
       - Add `"use client";` directive
       - Import `useState` from "react"
       - Accept prop `{ email: string }`
       - State: `copied` boolean, defaults to false
       - `handleCopy` async function:
         - Call `navigator.clipboard.writeText(email)`
         - Set `copied` to true
         - setTimeout to reset `copied` to false after 2000ms
         - Catch errors silently (email is still visible as text)
       - Render a button with type="button":
         - onClick={handleCopy}
         - aria-label: "Email copied" when copied, otherwise "Copy {email} to clipboard"
         - Display the email address as visible text
         - Show "Copied!" feedback text when copied, "Click to copy" otherwise
         - Style: `inline-flex items-center gap-2 text-blue-600 hover:text-blue-800 transition-colors`
         - Feedback text style: `text-sm text-gray-500`

    2. Update `src/app/contact/page.tsx` (replace the stub):
       - Server component (NO "use client" directive)
       - Import ContactForm from "@/components/contact/ContactForm"
       - Import CopyEmailButton from "@/components/contact/CopyEmailButton"
       - Define SOCIAL_LINKS array (following project pattern: external links use anchor tags with target="_blank" rel="noopener noreferrer"):
         - LinkedIn: https://www.linkedin.com/in/dw789/ (from PROJECT.md context)
         - Instagram: https://instagram.com/dweinbeck
         - GitHub: https://github.com/dweinbeck
       - Page layout:
         - Container: `mx-auto max-w-5xl px-4 sm:px-6 lg:px-8 py-16` (matches existing page pattern)
         - h1: "Get in Touch" with `text-3xl font-bold`
         - Subtitle: "Have a question or want to work together? I'd love to hear from you." with `mt-4 text-gray-600`
         - Two-column grid: `mt-12 grid gap-12 md:grid-cols-2`
           - Left column: ContactForm component
           - Right column: `space-y-8`
             - Email section: h2 "Email" (`text-lg font-semibold`), then CopyEmailButton with email="dan@dweinbeck.com" (placeholder -- user updates before deploy)
             - Social section: h2 "Connect" (`text-lg font-semibold`), then ul with social links
         - Social links: each is an `<a>` with target="_blank" rel="noopener noreferrer", styled `text-blue-600 hover:text-blue-800 transition-colors`
         - Each social link should include an sr-only description (following the project's WCAG pattern from decision [02-01])

    3. Create `.env.local.example` at project root:
       ```
       # Firebase Admin SDK credentials (required for contact form)
       # Get these from Firebase Console -> Project Settings -> Service accounts
       FIREBASE_PROJECT_ID=
       FIREBASE_CLIENT_EMAIL=
       FIREBASE_PRIVATE_KEY=
       ```

    Run `npx biome check --write src/components/contact/CopyEmailButton.tsx src/app/contact/page.tsx` after creating files.
  </action>
  <verify>
    - `npx biome check src/components/contact/ src/app/contact/` passes with no errors
    - `npx tsc --noEmit` passes
    - `npm run build` completes without errors
    - `npm run dev` and visit http://localhost:3000/contact -- page renders with form on left, email + social links on right (visual check via build success is sufficient for autonomous plan)
  </verify>
  <done>
    Contact page at /contact shows: two-column layout with ContactForm on left, email with click-to-copy and social links (LinkedIn, Instagram, GitHub) on right. CopyEmailButton provides clipboard copy with visual feedback. Social links open in new tabs. .env.local.example documents required Firebase credentials. Build passes.
  </done>
</task>

</tasks>

<verification>
- `npm run build` succeeds with no errors
- `npx biome check src/` reports no issues
- Contact page imports and renders ContactForm, CopyEmailButton, and social links
- Social links use anchor tags with target="_blank" rel="noopener noreferrer" (project convention)
- CopyEmailButton uses navigator.clipboard.writeText (not deprecated execCommand)
- .env.local.example exists with all three Firebase env var placeholders
- No "use client" directive on page.tsx (server component)
</verification>

<success_criteria>
- CopyEmailButton copies email to clipboard on click and shows "Copied!" feedback for 2 seconds
- Contact page renders ContactForm (from Plan 01) alongside email and social links
- Three social links (LinkedIn, Instagram, GitHub) point to correct profiles and open in new tabs
- .env.local.example documents required environment variables
- Full build passes with all contact page components
</success_criteria>

<output>
After completion, create `.planning/phases/04-contact/04-02-SUMMARY.md`
</output>
