---
phase: 05-github-actions-iphone-shortcuts
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - .github/workflows/claude.yml
autonomous: true
requirements:
  - GHA-WORKFLOW

must_haves:
  truths:
    - "claude.yml listens to issue_comment (created) and issues (opened, labeled) triggers"
    - "Workflow uses anthropics/claude-code-action@v1"
    - "ANTHROPIC_API_KEY referenced from secrets"
    - "Permissions include contents:write, pull-requests:write, issues:write"
    - "Concurrency group prevents parallel runs on same issue"
    - "npm run build succeeds"
    - "npm run lint passes"
  artifacts:
    - path: ".github/workflows/claude.yml"
      provides: "Claude Code Action workflow for automated issue implementation"
---

<objective>
Create the GitHub Actions workflow YAML for Claude Code Action. When someone mentions @claude in an issue comment or opens an issue with the gsd-capture label, Claude will automatically analyze and implement the request.

Purpose: Closes the automation loop — captures that become GitHub issues can be auto-implemented by Claude Code Action.

Output: One new file — .github/workflows/claude.yml plus a setup verification checklist.
</objective>

<execution_context>
@/Users/dweinbeck/.claude/get-shit-done/workflows/execute-plan.md
@/Users/dweinbeck/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/research/STACK.md
@.planning/research/PITFALLS-builder-os.md
@CLAUDE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Claude Code Action workflow</name>
  <files>
    .github/workflows/claude.yml
  </files>
  <action>
    Create `.github/workflows/claude.yml` based on the verified config from research.

    Key features:
    - Triggers on issue_comment (created), issues (opened), pull_request_review_comment (created)
    - Uses anthropics/claude-code-action@v1
    - Concurrency group per issue number to prevent parallel runs
    - Proper permissions for creating PRs and commenting on issues
    - Filter: only responds to @claude mentions in comments, or gsd-capture labeled issues
  </action>
</task>

</tasks>

<verification>
1. npm run lint — zero errors
2. npm run build — zero errors
3. Workflow YAML is valid syntax
4. Setup checklist documented
</verification>

<success_criteria>
- Workflow file created with correct triggers and permissions
- Concurrency group prevents race conditions
- ANTHROPIC_API_KEY referenced from secrets (not hardcoded)
</success_criteria>

<output>
After completion, create `.planning/phases/05-github-actions-iphone-shortcuts/05-01-SUMMARY.md`
</output>
