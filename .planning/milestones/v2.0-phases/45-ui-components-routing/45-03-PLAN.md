---
phase: 45-ui-components-routing
plan: 03
type: execute
wave: 2
depends_on: ["45-01"]
files_modified:
  - src/data/apps.ts
autonomous: true
requirements: [RT-03]

must_haves:
  truths:
    - "The /apps hub page shows the Tasks card linking to /apps/tasks (internal route)"
    - "The Tasks card does NOT link to an external URL (tasks.dan-weinbeck.com)"
    - "The Tasks card does NOT open in a new tab"
  artifacts:
    - path: "src/data/apps.ts"
      provides: "Apps listing with internal Tasks route"
      contains: 'href: "/apps/tasks"'
  key_links:
    - from: "src/data/apps.ts"
      to: "/apps/tasks"
      via: "href property in Tasks listing"
      pattern: 'href:.*"/apps/tasks"'
---

<objective>
Update the /apps hub listing so the Tasks card links to the internal /apps/tasks route instead of the external tasks.dan-weinbeck.com URL.

Purpose: Users navigating from the Apps hub reach the integrated Tasks app, not the old standalone deployment.
Output: Updated src/data/apps.ts
</objective>

<execution_context>
@/Users/dweinbeck/.claude/get-shit-done/workflows/execute-plan.md
@/Users/dweinbeck/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update apps hub listing for Tasks</name>
  <files>
    src/data/apps.ts
  </files>
  <action>
Edit src/data/apps.ts to change the Tasks app listing:

1. Change `href` from the dynamic `clientEnv().NEXT_PUBLIC_TASKS_APP_URL || "https://tasks.dev.dan-weinbeck.com"` to the static string `"/apps/tasks"`.

2. Remove the `sameTab: true` property â€” it's no longer needed since the link is internal (Next.js Link handles internal navigation automatically).

3. The `clientEnv()` import may become unused after this change. Check if any other app listing uses it. If NOT, remove the import. If it IS used elsewhere, leave it.

The resulting Tasks entry should look like:
```ts
{
  slug: "tasks",
  title: "Tasks",
  tag: "Productivity",
  subtitle: "Organize projects, tasks, and tags",
  description: "Full-featured task management with workspaces, projects, sections, tags, subtasks, effort scoring, and board views. Built with a standalone PostgreSQL backend.",
  href: "/apps/tasks",
  techStack: ["Next.js", "PostgreSQL", "Tailwind CSS"],
},
```
  </action>
  <verify>
Run `npm run build` to verify the apps data compiles. Grep for `tasks.dan-weinbeck.com` in src/data/apps.ts -- should find ZERO matches. Grep for `NEXT_PUBLIC_TASKS_APP_URL` in src/data/apps.ts -- should find ZERO matches (unless used by other entries). Verify `sameTab` is NOT on the tasks entry.
  </verify>
  <done>
Tasks hub listing uses href: "/apps/tasks" (internal route). No external URL reference. No sameTab property. Build passes.
  </done>
</task>

</tasks>

<verification>
1. `npm run build` passes
2. `npm run lint` passes
3. Apps listing for Tasks uses internal "/apps/tasks" route
4. No reference to external tasks URL in apps.ts
</verification>

<success_criteria>
- src/data/apps.ts updated with internal route
- Build and lint pass
- No external tasks URL remains in the apps listing
</success_criteria>

<output>
After completion, create `.planning/phases/45-ui-components-routing/45-03-SUMMARY.md`
</output>
