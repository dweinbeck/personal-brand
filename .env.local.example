# ===========================================
# Local Development Environment Variables
# ===========================================
# Copy this file to .env.local and fill in values

# --- Firebase Client SDK (Google Auth) ---
# Get from Firebase Console -> Project Settings -> General -> Your apps
NEXT_PUBLIC_FIREBASE_API_KEY=your-api-key
NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN=your-project.firebaseapp.com
NEXT_PUBLIC_FIREBASE_PROJECT_ID=your-project-id

# --- Firebase Admin (local development) ---
# On Cloud Run, ADC handles auth automatically but FIREBASE_PROJECT_ID is still
# needed so the Admin SDK verifies tokens against the correct Firebase project
# (which may differ from the GCP project hosting Cloud Run).
# IMPORTANT: This must be the Firebase project ID (same as NEXT_PUBLIC_FIREBASE_PROJECT_ID),
# NOT the GCP project ID.
FIREBASE_PROJECT_ID=your-firebase-project-id
FIREBASE_CLIENT_EMAIL=your-service-account@your-project.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"

# --- AI Assistant (FastAPI Proxy) ---
# URL for the external FastAPI RAG backend
# Local dev: point to your local FastAPI instance or deployed Cloud Run service
# Production: set via _CHATBOT_API_URL substitution in Cloud Build trigger
CHATBOT_API_URL=https://your-fastapi-service-url.run.app

# --- Brand Scraper (Fastify Proxy) ---
# URL for the external Brand Scraper Fastify service on Cloud Run
# Local dev: point to your local Fastify instance or deployed Cloud Run service
# Production: set via _BRAND_SCRAPER_API_URL substitution in Cloud Build trigger
BRAND_SCRAPER_API_URL=https://your-brand-scraper-service-url.run.app

# --- GitHub API ---
# Required for Control Center (all repos including private)
# Generate at https://github.com/settings/tokens with 'repo' scope
GITHUB_TOKEN=ghp_your_token_here

# --- Research Assistant (AI API Keys) ---
# Required for the Research Assistant tool (/tools/research-assistant)
# These are read automatically by the Vercel AI SDK providers.
# Get from https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key
# Get from https://aistudio.google.com/apikey
GOOGLE_GENERATIVE_AI_API_KEY=your-google-ai-api-key

# --- GSD Builder OS (capture pipeline) ---
# API key for iPhone Shortcut -> capture endpoint authentication
GSD_API_KEY=your-gsd-api-key
# GitHub repo for routing captures to issues (owner/repo format)
GSD_GITHUB_REPO=your-username/your-repo
# User ID for routing captures to Tasks app (project auto-discovered by "Inbox" name convention)
GSD_TASKS_USER_ID=your-firebase-user-uid
# Firebase Storage bucket for screenshot captures
FIREBASE_STORAGE_BUCKET=your-project.firebasestorage.app
# Discord webhook for capture pipeline alerts (optional)
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/your-webhook-id/your-webhook-token

# --- Stripe (server-only, never expose to client) ---
# Required for credits/billing system
# Get from https://dashboard.stripe.com/apikeys (use test keys for local dev)
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
# Get from https://dashboard.stripe.com/webhooks (create endpoint â†’ reveal signing secret)
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_signing_secret

# ===========================================
# Production (Cloud Run) Notes
# ===========================================
# On Cloud Run, firebase-admin uses Application Default Credentials (ADC).
# FIREBASE_PROJECT_ID must be set to the Firebase project ID (not the GCP
# project ID) so that verifyIdToken checks tokens against the correct audience.
# The Cloud Run service account (cloudrun-site) needs roles/datastore.user
# for Firestore access. Secret Manager is NOT needed -- ADC handles all
# authentication automatically via the service account identity.
# See scripts/deploy.sh for the full deployment process.
